<!DOCTYPE html>
<html>

<body>
<h2>Coderbunker Timesheet</h2>

<br>
<label for="full name">Enter your full name:</label>
<form onsubmit="sendText(event)">
 <input type="text" name = "full name" placeholder="Insert Full Name"/> 
 <input type = "submit" value ="submit"/>
</form>
<br>
<link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet" type="text/css">

<!--- User inputs start time, both date and time--->
<form action="/action_page.php">
  Select the date you want to input:
  <input type="date" name="work date">
</form>

<br>
<form action="/action_page.php"> 
  Select your starting time:
  <input type="time" name="start time">
  <input type = "submit" value ="submit"/>
</form> 

<br>

<button align="left" onclick="getTime()" name = "end time" type = "submit">Get Time</button> <p align="right" id="time"></p>

<!--- Dropdown Menu for Project Category--->

<body>

<div class="dropdown">
<select id="list" name = "project category">
    <option value="account management">Account Management</option>
    <option value="administrative">Administrative</option>
    <option value="automation">Automation</option>
    <option value="business development">Business Development</option>
    <option value="coderbunker.com">coderbunker.com</option>
    <option value="community development">Community Development</option>
    <option value="csr platforms">CSR Platform</option>
    <option value="finances">Finances</option>
    <option value="fundraising">Fund Raising</option>
    <option value="inquiries">Inquiries</option>
    <option value="matching">Matching</option>
    <option value="paid mentoring">Paid Mentoring</option>
    <option value="project">Project</option>
    <option value="proposal & pitch material">Proposals & Pitch material</option>
    <option value="summer camp">Summer Camp</option>
    <option value="systems development">Systems Development</option>
    <option value="training & mentoring">Training & Mentoring</option>
    <option value="tellurio">Tellurio</option>
 var list = $('#list').find(":selected").text(); 
</select>
</div>

<br>
<label for="project link">Enter your project link:</label>
<br>
<input name="project link" type="text" placeholder="Insert Project Link">
	<button onclick="searchGoogleGithub()">Confirm</button>
    
<form>
<br>
<label for="activity description">If you don't have your link, please enter manually:</label>
<input name = "project activity" type="text" placeholder="Insert Activity Description">
</form>

<br><br>
<form onsubmit="sendAll(event)">
 <input type = "submit" value ="submit" placeholder="Confirm"/>
</form>

<br>
<div style="text-align:center;"><img src="https://assets.codebar.io/b//uploads/sponsor/avatar/477/600_451134127.jpeg" alt="coderbunker.png">
</div>

<style>
input[type=text] {
    padding:5px; 
    border:2px solid #ccc; 
    -webkit-border-radius: 5px;
    border-radius: 5px;
}

input[type=text]:focus {
    border-color:#333;
}

input[type=submit] {
    padding:5px 15px; 
    background:#ccc; 
    border:0 none;
    cursor:pointer;
    -webkit-border-radius: 5px;
    border-radius: 5px; 
}
input[type=button] {
    padding:5px 15px;
    background:#4287f5;
    color:#FFFFFF;
    border:0 none;
    cursor:pointer;
    -webkit-border-radius: 5px;
    border-radius: 5px; 
}
button[type=submit] {
    padding:5px 15px; 
    background:#ccc;
    border:0 none;
    cursor:pointer;
    -webkit-border-radius: 5px;
    border-radius: 5px; 
}
h2 {
font-family:Titillium Web;
}
label {
font-family:Titillium Web;
}
img {
width:100px; 
}
</style>

<script>
  function sendText(e) {
  e.preventDefault();
  var data1 = {
  enterFullName: e.target['full name'].value
  }

  google.script.run
  .withSuccessHandler(function(response) {
  console.log(response);
  })
  .sendText(data1);
  }
</script>


<script> function sendAll(e) {
e.preventDefault();
var datas = {
enterFullName: e.target['full name'].value,
enterDate: e.target['work date'].value,
enterStartTime: e.target['start time'].value,
enterEndTime: e.target['end time'].value,
enterProject: e.target['project category'].value,
enterActivity: e.target['project activity'].value,
enterLink: e.target['project link'].value
}

google.script.run
.withSuccessHandler(function(response) {
console.log(response);
})
.sendAll(datas);
}
</script>


<script> function getTime() {
  var d = new Date();
  var n = d.toLocaleTimeString();
  document.getElementById("time").innerHTML = n;
  return n;
}
</script>

<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function dropDownMenu() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {
    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>


<script> function searchGoogleGithub('project link') {
  var S = 'project link';
  if (S.includes("google") === true) {
    if (S.includes("spreadsheets" === true) {
      var spreadsheetId = S.substring(S.lastindexOf("/d/")+1,S.indexOf("/edit"));
      var openspreadsheet = SpreadsheetApp.openById(spreadsheetId);
      var spreadsheetName = Logger.log(openspreadsheet.getName());
      return spreadsheetName;
      }
    else if (S.includes("document" === true) {
      var documentId = S.substring(S.lastindexOf("/d/")+1,S.indexOf("/edit"));
      var opendocument = DocumentApp.openById(documentId);
      var documentName = Logger.log(opendocument.getName());
      return documentName;
      }
    else if (S.includes("slides" === true) {
      var slidesId = S.substring(S.lastindexOf("/d/")+1,S.indexOf("/edit"));
      var openslides = SlidesApp.openById(slidesId);
      var slidesName = Logger.log(openslides.getName());
      return slidesName; 
    }
    else () {
      return "Error!";
    }
    }
  else if (S.includes("github") === true) { 
   
  }
  else () {
	// Brandon's code
  }
  }
</script>

<script>
function getTitle() {
 var doc = Jsoup.connect('project link').get();
 var title = doc.title();
  return title;
}</script>

</body>
</body>
</html> 
